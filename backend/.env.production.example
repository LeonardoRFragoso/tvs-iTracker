# ========================================
# CONFIGURAÇÃO DE PRODUÇÃO - MariaDB
# ========================================
# IMPORTANTE: Copie este arquivo para .env e configure com valores reais
# Nunca commite o arquivo .env com credenciais reais!

# ========================================
# DATABASE CONFIGURATION - MariaDB
# ========================================
# Formato: mysql+pymysql://usuario:senha@host:porta/nome_banco
# 
# Exemplos:
# - Servidor local: mysql+pymysql://tvs_user:senha_forte@localhost:3306/tvs_itracker
# - Servidor remoto: mysql+pymysql://tvs_user:senha_forte@192.168.1.100:3306/tvs_itracker
# - Com SSL: mysql+pymysql://tvs_user:senha_forte@host:3306/tvs_itracker?ssl_ca=/path/to/ca.pem
#
DATABASE_URL=mysql+pymysql://tvs_user:SENHA_FORTE_AQUI@localhost:3306/tvs_itracker

# ========================================
# SECURITY CONFIGURATION
# ========================================
# CRÍTICO: Gere chaves fortes e únicas para produção!
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"

# Chave secreta do Flask (usada para sessões e cookies)
SECRET_KEY=GERAR_CHAVE_FORTE_AQUI

# Chave secreta do JWT (usada para tokens de autenticação)
JWT_SECRET_KEY=GERAR_CHAVE_FORTE_AQUI

# Tempo de expiração do token JWT em segundos (3600 = 1 hora)
JWT_ACCESS_TOKEN_EXPIRES=3600

# ========================================
# FLASK CONFIGURATION
# ========================================
FLASK_ENV=production
FLASK_DEBUG=False

# ========================================
# UPLOAD CONFIGURATION
# ========================================
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=104857600

# ========================================
# MEDIA BASE URL
# ========================================
# URL base acessível pelos dispositivos Chromecast
# IMPORTANTE: Use o IP ou domínio real do servidor, não localhost!
# 
# Exemplos:
# - IP local: http://192.168.1.100:5000
# - Domínio: https://tvs.suaempresa.com
# - IP público: http://203.0.113.10:5000
#
MEDIA_BASE_URL=http://SEU_IP_OU_DOMINIO:5000

# ========================================
# EXTERNAL APIs (Opcional)
# ========================================
NEWS_API_KEY=sua-chave-news-api
WEATHER_API_KEY=sua-chave-weather-api

# ========================================
# SOCKET.IO CONFIGURATION
# ========================================
SOCKETIO_ASYNC_MODE=eventlet

# URL do Socket.IO para o frontend
# Deve ser o mesmo que MEDIA_BASE_URL
REACT_APP_SOCKET_URL=http://SEU_IP_OU_DOMINIO:5000

# ========================================
# CHROMECAST CONFIGURATION
# ========================================
CHROMECAST_DISCOVERY_TIMEOUT=10
CHROMECAST_RETRY_ATTEMPTS=3

# ========================================
# LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=INFO
LOG_FILE=logs/tvs_itracker.log

# ========================================
# CORS CONFIGURATION
# ========================================
# URLs permitidas para CORS (separadas por vírgula)
# Adicione o domínio do frontend em produção
CORS_ORIGINS=http://localhost:3000,http://SEU_IP_OU_DOMINIO:3000

# ========================================
# BACKUP CONFIGURATION (Opcional)
# ========================================
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/var/backups/tvs_itracker

# ========================================
# PERFORMANCE CONFIGURATION
# ========================================
# Pool de conexões do banco de dados
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_MAX_OVERFLOW=20
SQLALCHEMY_POOL_RECYCLE=1800
SQLALCHEMY_POOL_PRE_PING=True

# ========================================
# INSTRUÇÕES DE CONFIGURAÇÃO
# ========================================
#
# 1. BANCO DE DADOS:
#    - Crie o banco de dados no MariaDB:
#      CREATE DATABASE tvs_itracker CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
#    
#    - Crie um usuário específico:
#      CREATE USER 'tvs_user'@'localhost' IDENTIFIED BY 'senha_forte';
#      GRANT ALL PRIVILEGES ON tvs_itracker.* TO 'tvs_user'@'localhost';
#      FLUSH PRIVILEGES;
#
# 2. CHAVES DE SEGURANÇA:
#    - Gere chaves fortes usando:
#      python -c "import secrets; print(secrets.token_urlsafe(32))"
#    
#    - Substitua SECRET_KEY e JWT_SECRET_KEY com valores únicos
#
# 3. MEDIA_BASE_URL:
#    - Configure com o IP/domínio acessível pelos Chromecasts
#    - Exemplo: http://192.168.1.100:5000
#    - NÃO use localhost em produção!
#
# 4. CORS_ORIGINS:
#    - Adicione o domínio do frontend
#    - Exemplo: http://192.168.1.100:3000,https://tvs.suaempresa.com
#
# 5. INICIALIZAR BANCO:
#    - Execute as migrations:
#      flask db upgrade
#    
#    - Ou use o script de inicialização:
#      python init_db.py
#
# 6. TESTAR CONEXÃO:
#    - Teste a conexão com o banco antes de iniciar:
#      python -c "from database import db; from app import app; app.app_context().push(); db.create_all(); print('OK')"
#
